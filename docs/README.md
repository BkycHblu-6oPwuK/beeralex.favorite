# –ú–æ–¥—É–ª—å beeralex.favorite

## –û–ø–∏—Å–∞–Ω–∏–µ

–ú–æ–¥—É–ª—å `beeralex.favorite` –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ (wishlist) –¥–ª—è –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω–∞ –Ω–∞ Bitrix. –ü–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –¥–æ–±–∞–≤–ª—è—Ç—å —Ç–æ–≤–∞—Ä—ã –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ, —É–ø—Ä–∞–≤–ª—è—Ç—å —Å–ø–∏—Å–∫–æ–º –∏–∑–±—Ä–∞–Ω–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤ –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏–∑–±—Ä–∞–Ω–Ω–æ–µ –º–µ–∂–¥—É —Å–µ—Å—Å–∏—è–º–∏ –Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –∏ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

## –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ‚úÖ **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤ –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ** –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –∏ –Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- üîÑ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è** –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ –ø—Ä–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- üóëÔ∏è **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–æ–º**: –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ, –æ—á–∏—Å—Ç–∫–∞
- üìä **–ü–æ–¥—Å—á–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞** –∏–∑–±—Ä–∞–Ω–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤
- ‚úîÔ∏è **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞** —Ç–æ–≤–∞—Ä–∞ (–≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–º –∏–ª–∏ –Ω–µ—Ç)
- üîó **–°–≤—è–∑—å —Å Fuser** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–∏—Å—Ç–µ–º—É –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π Bitrix
- üåê **–ú—É–ª—å—Ç–∏—Å–∞–π—Ç–æ–≤–æ—Å—Ç—å** - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å–∞–π—Ç–æ–≤

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–ú–æ–¥—É–ª—å –ø–æ—Å—Ç—Ä–æ–µ–Ω —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º:

- **ORM DataManager** - –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö
- **Fuser** - —Å–∏—Å—Ç–µ–º–∞ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π Bitrix Sale
- **Event Handlers** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- **Dependency Injection** - —Å–µ—Ä–≤–∏—Å —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è –≤ DI –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–æ–¥—É–ª—è

```
beeralex.favorite/
‚îú‚îÄ‚îÄ .settings.php             # –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤ –≤ DI –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
‚îú‚îÄ‚îÄ install/
‚îÇ   ‚îî‚îÄ‚îÄ index.php            # –£—Å—Ç–∞–Ω–æ–≤—â–∏–∫ –º–æ–¥—É–ª—è
‚îú‚îÄ‚îÄ lib/
‚îÇ   ‚îú‚îÄ‚îÄ FavouriteService.php # –û—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–∏—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∏–∑–±—Ä–∞–Ω–Ω—ã–º
‚îÇ   ‚îú‚îÄ‚îÄ FavoriteTable.php    # ORM —Ç–∞–±–ª–∏—Ü–∞ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ EventHandlers.php    # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
‚îÇ   ‚îî‚îÄ‚îÄ Options.php          # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –º–æ–¥—É–ª—è
‚îî‚îÄ‚îÄ docs/                    # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- PHP 8.1+
- Bitrix Framework 22.0+
- –ú–æ–¥—É–ª–∏: `sale`, `iblock`

### –ü—Ä–æ—Ü–µ—Å—Å —É—Å—Ç–∞–Ω–æ–≤–∫–∏

1. –†–∞–∑–º–µ—Å—Ç–∏—Ç–µ –º–æ–¥—É–ª—å –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `/local/modules/beeralex.favorite/`
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –º–æ–¥—É–ª—å —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—É—é –ø–∞–Ω–µ–ª—å Bitrix
3. –ü—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—Å—Ç—Å—è —Ç–∞–±–ª–∏—Ü–∞ `beeralex_favorite_products`
4. –ú–æ–¥—É–ª—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç —Å–µ—Ä–≤–∏—Å `FavouriteService` –≤ DI –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –¢–∞–±–ª–∏—Ü–∞ beeralex_favorite_products

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| `ID` | INT | –ü–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á |
| `LID` | VARCHAR | ID —Å–∞–π—Ç–∞ |
| `FUSER_ID` | INT | ID –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (Fuser) |
| `PRODUCT_ID` | INT | ID —Ç–æ–≤–∞—Ä–∞ –∏–∑ –∏–Ω—Ñ–æ–±–ª–æ–∫–∞ |
| `CREATED_AT` | DATETIME | –î–∞—Ç–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ |

**–ò–Ω–¥–µ–∫—Å—ã:**
- –ü–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á –ø–æ `ID`
- –°–æ—Å—Ç–∞–≤–Ω–æ–π –∏–Ω–¥–µ–∫—Å –ø–æ `FUSER_ID`, `PRODUCT_ID`, `LID`

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ

```php
use Beeralex\Favorite\FavouriteService;

$favoriteService = service(FavouriteService::class);

// –î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ
$result = $favoriteService->add($productId = 123);

if ($result) {
    echo "–¢–æ–≤–∞—Ä –¥–æ–±–∞–≤–ª–µ–Ω –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ";
}
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∏–∑–±—Ä–∞–Ω–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤

```php
// –ü–æ–ª—É—á–∏—Ç—å ID —Ç–æ–≤–∞—Ä–æ–≤ –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–º
$favoriteIds = $favoriteService->getByUser();

// –ü–æ–ª—É—á–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–≤–∞—Ä–æ–≤
$count = $favoriteService->getCountByUser();

echo "–í –∏–∑–±—Ä–∞–Ω–Ω–æ–º {$count} —Ç–æ–≤–∞—Ä–æ–≤";
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ —Ç–æ–≤–∞—Ä–∞

```php
// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–¥–∏–Ω —Ç–æ–≤–∞—Ä
$isFavorite = $favoriteService->isFavoriteProduct($productId = 123);

if ($isFavorite) {
    echo "–¢–æ–≤–∞—Ä —É–∂–µ –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–º";
}

// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ç–æ–≤–∞—Ä–æ–≤
$favoriteIds = $favoriteService->isFavoriteProduct([123, 456, 789]);
// –í–µ—Ä–Ω–µ—Ç –º–∞—Å—Å–∏–≤ ID —Ç–µ—Ö —Ç–æ–≤–∞—Ä–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–º: [123, 789]
```

### –£–¥–∞–ª–µ–Ω–∏–µ –∏–∑ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ

```php
// –£–¥–∞–ª–∏—Ç—å –æ–¥–∏–Ω —Ç–æ–≤–∞—Ä
$favoriteService->deleteByProductID($productId = 123);

// –û—á–∏—Å—Ç–∏—Ç—å –≤—Å—ë –∏–∑–±—Ä–∞–Ω–Ω–æ–µ
$favoriteService->clear();
```

## REST API –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä

–ú–æ–¥—É–ª—å –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω —Å `beeralex.api` –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç REST API endpoints:

### –î–æ–±–∞–≤–∏—Ç—å –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ

```
POST /api/v1/favorite/store/
–ü–∞—Ä–∞–º–µ—Ç—Ä—ã: productID (int)

–û—Ç–≤–µ—Ç:
{
    "success": true,
    "data": {
        "count": 5,
        "items": [123, 456, 789, ...]
    }
}
```

### –£–¥–∞–ª–∏—Ç—å –∏–∑ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ

```
POST /api/v1/favorite/delete/
–ü–∞—Ä–∞–º–µ—Ç—Ä—ã: productID (int)

–û—Ç–≤–µ—Ç:
{
    "success": true,
    "data": {
        "count": 4,
        "items": [123, 456, 789, ...]
    }
}
```

### –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Å—Ç–∞—Ç—É—Å (toggle)

```
POST /api/v1/favorite/toggle/
–ü–∞—Ä–∞–º–µ—Ç—Ä—ã: productID (int)

–û—Ç–≤–µ—Ç:
{
    "success": true,
    "data": {
        "action": "added", // –∏–ª–∏ "removed"
        "isFavorite": true,
        "count": 5
    }
}
```

### –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ

```
GET /api/v1/favorite/get/

–û—Ç–≤–µ—Ç:
{
    "success": true,
    "data": {
        "items": [123, 456, 789],
        "count": 3
    }
}
```

### –û—á–∏—Å—Ç–∏—Ç—å –∏–∑–±—Ä–∞–Ω–Ω–æ–µ

```
POST /api/v1/favorite/clear/

–û—Ç–≤–µ—Ç:
{
    "success": true,
    "data": {
        "count": 0,
        "items": []
    }
}
```

## –û—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–∏—Å: FavouriteService

### –ú–µ—Ç–æ–¥—ã

#### add()

–î–æ–±–∞–≤–ª—è–µ—Ç —Ç–æ–≤–∞—Ä –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ.

```php
public function add(int $productID, int $fUserID = 0): bool
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `$productID` - ID —Ç–æ–≤–∞—Ä–∞
- `$fUserID` - ID –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é - —Ç–µ–∫—É—â–∏–π)

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `true` –µ—Å–ª–∏ —Ç–æ–≤–∞—Ä –¥–æ–±–∞–≤–ª–µ–Ω –∏–ª–∏ —É–∂–µ –±—ã–ª –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–º

**–ü—Ä–∏–º–µ—Ä:**

```php
$favoriteService->add(123); // –î–ª—è —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
$favoriteService->add(123, 456); // –î–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ Fuser ID
```

#### deleteByProductID()

–£–¥–∞–ª—è–µ—Ç —Ç–æ–≤–∞—Ä –∏–∑ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ.

```php
public function deleteByProductID(int|array $productID, int $fUserID = 0): bool
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `$productID` - ID —Ç–æ–≤–∞—Ä–∞ –∏–ª–∏ –º–∞—Å—Å–∏–≤ ID
- `$fUserID` - ID –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `true` –µ—Å–ª–∏ —Ç–æ–≤–∞—Ä —É–¥–∞–ª–µ–Ω –∏–ª–∏ –µ–≥–æ –Ω–µ –±—ã–ª–æ –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–º

**–ü—Ä–∏–º–µ—Ä:**

```php
$favoriteService->deleteByProductID(123);
$favoriteService->deleteByProductID([123, 456, 789]); // –£–¥–∞–ª–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ
```

#### clear()

–ü–æ–ª–Ω–æ—Å—Ç—å—é –æ—á–∏—â–∞–µ—Ç –∏–∑–±—Ä–∞–Ω–Ω–æ–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

```php
public function clear(int $fUserID = 0): bool
```

**–ü—Ä–∏–º–µ—Ä:**

```php
$favoriteService->clear();
```

#### getCountByUser()

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–≤–∞—Ä–æ–≤ –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–º.

```php
public function getCountByUser(int $fUserID = 0): int
```

**–ü—Ä–∏–º–µ—Ä:**

```php
$count = $favoriteService->getCountByUser();
echo "–£ –≤–∞—Å {$count} —Ç–æ–≤–∞—Ä–æ–≤ –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–º";
```

#### getIdsByUser()

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–∞—Å—Å–∏–≤ ID —Ç–æ–≤–∞—Ä–æ–≤ –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–º.

```php
public function getIdsByUser(int $fUserID = 0): array
```

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –ú–∞—Å—Å–∏–≤ ID —Ç–æ–≤–∞—Ä–æ–≤, –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ –¥–∞—Ç–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è (—Å–Ω–∞—á–∞–ª–∞ –Ω–æ–≤—ã–µ)

**–ü—Ä–∏–º–µ—Ä:**

```php
$ids = $favoriteService->getIdsByUser();
// [789, 456, 123]
```

#### getByUser()

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç ID —Ç–æ–≤–∞—Ä–æ–≤ –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–º —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –∏—Ö —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –≤ –∏–Ω—Ñ–æ–±–ª–æ–∫–µ.

```php
public function getByUser(int $fUserID = 0): array
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤ –≤ –∏–Ω—Ñ–æ–±–ª–æ–∫–µ
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª—è–µ—Ç –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç–æ–≤–∞—Ä—ã –∏–∑ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ

**–ü—Ä–∏–º–µ—Ä:**

```php
$validIds = $favoriteService->getByUser();
// –í–µ—Ä–Ω–µ—Ç —Ç–æ–ª—å–∫–æ ID —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ç–æ–≤–∞—Ä–æ–≤
```

#### isFavoriteProduct()

–ü—Ä–æ–≤–µ—Ä—è–µ—Ç, –¥–æ–±–∞–≤–ª–µ–Ω –ª–∏ —Ç–æ–≤–∞—Ä –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ.

```php
public function isFavoriteProduct(int|array $productID, int $fUserID = 0): array|bool
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `$productID` - ID —Ç–æ–≤–∞—Ä–∞ –∏–ª–∏ –º–∞—Å—Å–∏–≤ ID

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:**
- `bool` –µ—Å–ª–∏ –ø–µ—Ä–µ–¥–∞–Ω –æ–¥–∏–Ω ID
- `array` ID –∏–∑–±—Ä–∞–Ω–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤, –µ—Å–ª–∏ –ø–µ—Ä–µ–¥–∞–Ω –º–∞—Å—Å–∏–≤

**–ü—Ä–∏–º–µ—Ä:**

```php
// –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–¥–Ω–æ–≥–æ —Ç–æ–≤–∞—Ä–∞
if ($favoriteService->isFavoriteProduct(123)) {
    echo "–í –∏–∑–±—Ä–∞–Ω–Ω–æ–º";
}

// –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ç–æ–≤–∞—Ä–æ–≤
$favoriteIds = $favoriteService->isFavoriteProduct([123, 456, 789]);
// –í–µ—Ä–Ω–µ—Ç: [123, 789] (–µ—Å–ª–∏ —Ç–æ–ª—å–∫–æ —ç—Ç–∏ –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–º)
```

#### copyFavoritesToFuser()

–ö–æ–ø–∏—Ä—É–µ—Ç –∏–∑–±—Ä–∞–Ω–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã –æ—Ç –æ–¥–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥—Ä—É–≥–æ–º—É.

```php
public function copyFavoritesToFuser(int $fromFuserId, int $toFuserId): void
```

**–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:** –ü—Ä–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –¥–ª—è –ø–µ—Ä–µ–Ω–æ—Å–∞ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ –Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

---

## –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π

### onUserLogin

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–æ–ø–∏—Ä—É–µ—Ç –∏–∑–±—Ä–∞–Ω–Ω–æ–µ –æ—Ç –Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∫ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω–æ–º—É.

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**

1. –ü–æ–ª—É—á–∞–µ—Ç Fuser ID –∏–∑ —Å–µ—Å—Å–∏–∏ (–Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å)
2. –ü–æ–ª—É—á–∞–µ—Ç Fuser ID –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
3. –ö–æ–ø–∏—Ä—É–µ—Ç –≤—Å–µ –∏–∑–±—Ä–∞–Ω–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã –º–µ–∂–¥—É Fuser'–∞–º–∏

```php
// –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –º–æ–¥—É–ª—è
EventManager::getInstance()->registerEventHandler(
    'main',
    'OnAfterUserLogin',
    'beeralex.favorite',
    EventHandlers::class,
    'onUserLogin'
);
```

### onSaleUserDelete

–°–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ Fuser –ø–µ—Ä–µ–¥ –µ–≥–æ —É–¥–∞–ª–µ–Ω–∏–µ–º.

### restoreDeletedFuser

–í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç Fuser –ø–æ—Å–ª–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –ø—Ä–∏–≤—è–∑–∫–∏ –∫ –∏–∑–±—Ä–∞–Ω–Ω—ã–º —Ç–æ–≤–∞—Ä–∞–º.

---

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ

```php
// components/custom/favorites/class.php
use Beeralex\Favorite\FavouriteService;
use Beeralex\Catalog\Service\CatalogService;

class FavoritesComponent extends CBitrixComponent
{
    protected FavouriteService $favoriteService;
    protected CatalogService $catalogService;
    
    public function executeComponent()
    {
        $this->favoriteService = service(FavouriteService::class);
        $this->catalogService = service(CatalogService::class);
        
        // –ü–æ–ª—É—á–∞–µ–º ID –∏–∑–±—Ä–∞–Ω–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤
        $favoriteIds = $this->favoriteService->getByUser();
        
        // –ü–æ–ª—É—á–∞–µ–º —Ç–æ–≤–∞—Ä—ã —Å —Ü–µ–Ω–∞–º–∏ –∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è–º–∏
        $products = $this->catalogService->getProductsWithOffers(
            $favoriteIds, 
            true, 
            true
        );
        
        $this->arResult = [
            'PRODUCTS' => $products,
            'COUNT' => count($products),
        ];
        
        $this->includeComponentTemplate();
    }
}
```

### AJAX –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ

```php
// ajax/add_to_favorite.php
require $_SERVER['DOCUMENT_ROOT'] . '/bitrix/modules/main/include/prolog_before.php';

use Beeralex\Favorite\FavouriteService;

$productId = (int)($_POST['product_id'] ?? 0);

if (!$productId) {
    die(json_encode(['success' => false, 'error' => '–ù–µ —É–∫–∞–∑–∞–Ω —Ç–æ–≤–∞—Ä']));
}

$favoriteService = service(FavouriteService::class);
$result = $favoriteService->add($productId);

if ($result) {
    echo json_encode([
        'success' => true,
        'count' => $favoriteService->getCountByUser(),
        'isFavorite' => true
    ]);
} else {
    echo json_encode([
        'success' => false,
        'error' => '–û—à–∏–±–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ'
    ]);
}
```

### –ö–Ω–æ–ø–∫–∞ "–í –∏–∑–±—Ä–∞–Ω–Ω–æ–µ" –≤ —à–∞–±–ª–æ–Ω–µ

```html
<div class="product-card">
    <h3><?= $product['NAME'] ?></h3>
    
    <?php
    $favoriteService = service(\Beeralex\Favorite\FavouriteService::class);
    $isFavorite = $favoriteService->isFavoriteProduct($product['ID']);
    ?>
    
    <button class="favorite-btn <?= $isFavorite ? 'active' : '' ?>" 
            data-product-id="<?= $product['ID'] ?>">
        <?= $isFavorite ? '‚ù§Ô∏è –í –∏–∑–±—Ä–∞–Ω–Ω–æ–º' : 'ü§ç –í –∏–∑–±—Ä–∞–Ω–Ω–æ–µ' ?>
    </button>
</div>

<script>
document.querySelectorAll('.favorite-btn').forEach(btn => {
    btn.addEventListener('click', function() {
        const productId = this.dataset.productId;
        
        fetch('/api/v1/favorite/toggle/', {
            method: 'POST',
            headers: {'Content-Type': 'application/x-www-form-urlencoded'},
            body: `productID=${productId}`
        })
        .then(r => r.json())
        .then(data => {
            if (data.success) {
                this.classList.toggle('active');
                this.textContent = data.data.isFavorite ? '‚ù§Ô∏è –í –∏–∑–±—Ä–∞–Ω–Ω–æ–º' : 'ü§ç –í –∏–∑–±—Ä–∞–Ω–Ω–æ–µ';
                
                // –û–±–Ω–æ–≤–ª—è–µ–º —Å—á–µ—Ç—á–∏–∫
                document.querySelector('.favorite-counter').textContent = data.data.count;
            }
        });
    });
});
</script>
```

### –ú–∞—Å—Å–æ–≤–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤

```php
// –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –∫–∞—Ç–∞–ª–æ–≥–∞
$productIds = [123, 456, 789, 101, 112];
$favoriteService = service(FavouriteService::class);

$favoriteIds = $favoriteService->isFavoriteProduct($productIds);
// –í–µ—Ä–Ω–µ—Ç: [123, 789] (–µ—Å–ª–∏ —Ç–æ–ª—å–∫–æ —ç—Ç–∏ –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–º)

foreach ($products as &$product) {
    $product['IS_FAVORITE'] = in_array($product['ID'], $favoriteIds);
}
```

---

## –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞

### –°–æ–∑–¥–∞–Ω–∏–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞

–í—ã –º–æ–∂–µ—Ç–µ —Ä–∞—Å—à–∏—Ä–∏—Ç—å `FavouriteService` —Å–≤–æ–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π:

```php
namespace App\Service;

use Beeralex\Favorite\FavouriteService as BaseService;

class FavouriteService extends BaseService
{
    /**
     * –î–æ–±–∞–≤–ª—è–µ—Ç —Ç–æ–≤–∞—Ä —Å –æ—Ç–ø—Ä–∞–≤–∫–æ–π —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
     */
    public function addWithNotification(int $productId): bool
    {
        $result = $this->add($productId);
        
        if ($result) {
            // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∏–ª–∏ —Å–æ–±—ã—Ç–∏–µ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
            $this->sendNotification($productId);
        }
        
        return $result;
    }
    
    /**
     * –ü–æ–ª—É—á–∞–µ—Ç –∏–∑–±—Ä–∞–Ω–Ω–æ–µ —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π
     */
    public function getWithDetails(): array
    {
        $ids = $this->getByUser();
        
        // –î–æ–±–∞–≤–ª—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–æ–≤–∞—Ä–∞—Ö
        $catalogService = service(\Beeralex\Catalog\Service\CatalogService::class);
        return $catalogService->getProductsWithOffers($ids, true, true);
    }
    
    private function sendNotification(int $productId): void
    {
        // –í–∞—à–∞ –ª–æ–≥–∏–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
    }
}
```

–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ –≤ `/local/.settings_extra.php`:

```php
use Beeralex\Favorite\FavouriteService;
use App\Service\FavouriteService as AppFavouriteService;

return [
    'services' => [
        'value' => [
            FavouriteService::class => [
                'constructor' => static function () {
                    return new AppFavouriteService(
                        \Bitrix\Main\Context::getCurrent()->getSite() ?? 's1'
                    );
                }
            ],
        ]
    ]
];
```

---

## –ú—É–ª—å—Ç–∏—Å–∞–π—Ç–æ–≤–æ—Å—Ç—å

–ú–æ–¥—É–ª—å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–∞–π—Ç–æ–≤. –ò–∑–±—Ä–∞–Ω–Ω–æ–µ –ø—Ä–∏–≤—è–∑–∞–Ω–æ –∫ —Å–∞–π—Ç—É —á–µ—Ä–µ–∑ –ø–æ–ª–µ `LID`.

```php
$favoriteService = service(FavouriteService::class);

// –ò–∑–º–µ–Ω–∏—Ç—å —Å–∞–π—Ç
$favoriteService->setSiteId('s2');

// –¢–µ–ø–µ—Ä—å –≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –±—É–¥—É—Ç –¥–ª—è —Å–∞–π—Ç–∞ s2
$count = $favoriteService->getCountByUser();
```

---

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –¥—Ä—É–≥–∏–º–∏ –º–æ–¥—É–ª—è–º–∏

### –° –º–æ–¥—É–ª–µ–º catalog

```php
use Beeralex\Favorite\FavouriteService;
use Beeralex\Catalog\Service\CatalogService;

$favoriteService = service(FavouriteService::class);
$catalogService = service(CatalogService::class);

// –ü–æ–ª—É—á–∞–µ–º –∏–∑–±—Ä–∞–Ω–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã —Å —Ü–µ–Ω–∞–º–∏ –∏ —Å–∫–∏–¥–∫–∞–º–∏
$favoriteIds = $favoriteService->getByUser();
$products = $catalogService->getProductsWithOffers($favoriteIds, true, true);
```

### –° –º–æ–¥—É–ª–µ–º API

```javascript
// Frontend –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
class FavoriteManager {
    async add(productId) {
        const response = await fetch('/api/v1/favorite/store/', {
            method: 'POST',
            headers: {'Content-Type': 'application/x-www-form-urlencoded'},
            body: `productID=${productId}`
        });
        return response.json();
    }
    
    async toggle(productId) {
        const response = await fetch('/api/v1/favorite/toggle/', {
            method: 'POST',
            headers: {'Content-Type': 'application/x-www-form-urlencoded'},
            body: `productID=${productId}`
        });
        return response.json();
    }
    
    async getAll() {
        const response = await fetch('/api/v1/favorite/get/');
        return response.json();
    }
}

const favoriteManager = new FavoriteManager();
```

---

## –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤

–ú–æ–¥—É–ª—å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–æ–ª—å—à–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º —Ç–æ–≤–∞—Ä–æ–≤:

- –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∏–Ω–¥–µ–∫—Å—ã –ë–î –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –≤—ã–±–æ—Ä–∫–∏
- –ú–µ—Ç–æ–¥ `getByUser()` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤ –æ–¥–Ω–∏–º –∑–∞–ø—Ä–æ—Å–æ–º
- –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —É—Ä–æ–≤–Ω–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å)

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–ö–µ—à–∏—Ä—É–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã** `getByUser()` –Ω–∞ –≤—Ä–µ–º—è —Å–µ—Å—Å–∏–∏:

```php
$cache = \Bitrix\Main\Data\Cache::createInstance();
$cacheId = 'favorite_' . Fuser::getId();
$cacheDir = '/favorite/';

if ($cache->initCache(3600, $cacheId, $cacheDir)) {
    $favoriteIds = $cache->getVars();
} else {
    $favoriteIds = $favoriteService->getByUser();
    $cache->startDataCache();
    $cache->endDataCache($favoriteIds);
}
```

2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `getIdsByUser()`** –≤–º–µ—Å—Ç–æ `getByUser()` –µ—Å–ª–∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –Ω–µ –Ω—É–∂–Ω–∞

3. **–ú–∞—Å—Å–æ–≤–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞** —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–µ–µ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –æ–¥–∏–Ω–æ—á–Ω—ã—Ö:

```php
// ‚ùå –ü–ª–æ—Ö–æ
foreach ($products as $product) {
    $product['IS_FAVORITE'] = $favoriteService->isFavoriteProduct($product['ID']);
}

// ‚úÖ –•–æ—Ä–æ—à–æ
$productIds = array_column($products, 'ID');
$favoriteIds = $favoriteService->isFavoriteProduct($productIds);
foreach ($products as &$product) {
    $product['IS_FAVORITE'] = in_array($product['ID'], $favoriteIds);
}
```

---

## –ú–∏–≥—Ä–∞—Ü–∏–∏

–ú–æ–¥—É–ª—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–∏—Å—Ç–µ–º—É –º–∏–≥—Ä–∞—Ü–∏–π –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π –ë–î.

–§–∞–π–ª –º–∏–≥—Ä–∞—Ü–∏–∏: `migrations/Version20250417085746.php.php`

–ü—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –º–æ–¥—É–ª—è —Ç–∞–±–ª–∏—Ü–∞ —Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

---

## –û—Ç–ª–∞–¥–∫–∞

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–î–æ–±–∞–≤—å—Ç–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏:

```php
namespace App\Service;

use Beeralex\Favorite\FavouriteService as BaseService;

class FavouriteService extends BaseService
{
    public function add(int $productID, int $fUserID = 0): bool
    {
        $result = parent::add($productID, $fUserID);
        
        \Bitrix\Main\Diag\Debug::writeToFile([
            'action' => 'add',
            'productID' => $productID,
            'fUserID' => $fUserID ?: \Bitrix\Sale\Fuser::getId(),
            'result' => $result
        ], '', '/logs/favorite.log');
        
        return $result;
    }
}
```

---

## FAQ

**Q: –ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç —Å –∏–∑–±—Ä–∞–Ω–Ω—ã–º –ø—Ä–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏?**  
A: –ü—Ä–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ –Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–æ–ø–∏—Ä—É–µ—Ç—Å—è –∫ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω–æ–º—É.

**Q: –ú–æ–∂–Ω–æ –ª–∏ –¥–æ–±–∞–≤–∏—Ç—å –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ —Ç–æ–≤–∞—Ä, –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω–µ—Ç –≤ –∏–Ω—Ñ–æ–±–ª–æ–∫–µ?**  
A: –î–∞, –Ω–æ –º–µ—Ç–æ–¥ `getByUser()` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª–∏—Ç —Ç–∞–∫–∏–µ —Ç–æ–≤–∞—Ä—ã –ø—Ä–∏ –ø—Ä–æ–≤–µ—Ä–∫–µ.

**Q: –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π?**  
A: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–∏—Å—Ç–µ–º—É Fuser (–≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π) –∏–∑ –º–æ–¥—É–ª—è Sale, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–∏–≤—è–∑—ã–≤–∞–µ—Ç—Å—è –∫ —Å–µ—Å—Å–∏–∏.

**Q: –ú–æ–∂–Ω–æ –ª–∏ —Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–±—Ä–∞–Ω–Ω–æ–µ –≤ –∫—É–∫–∞—Ö/localStorage –≤–º–µ—Å—Ç–æ –ë–î?**  
A: –ú–æ–¥—É–ª—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ë–î –¥–ª—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏, –Ω–æ –≤—ã –º–æ–∂–µ—Ç–µ —Å–æ–∑–¥–∞—Ç—å –≥–∏–±—Ä–∏–¥–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ —Å –∫–µ—à–µ–º –≤ localStorage.

---

## –õ–∏—Ü–µ–Ω–∑–∏—è

–ü—Ä–æ–ø—Ä–∏–µ—Ç–∞—Ä–Ω—ã–π –º–æ–¥—É–ª—å. ¬© beeralex

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –≤–æ–ø—Ä–æ—Å–æ–≤ –æ–±—Ä–∞—â–∞–π—Ç–µ—Å—å –∫ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º –º–æ–¥—É–ª—è.
